<link rel="import" type="html" href="../../br-icons/src/br-icons.html">

<dom-module id="br-button">

<link rel="import" type="css" href="../dist/css/br-button.min.css">

<template>

	<button type$="{{type}}">
		<template is="dom-if" if="{{icon}}">
			<br-icons icon$="{{icon}}" class="icon" hidden$="{{isLoading}}"></br-icons>
		</template>
		<template is="dom-if" if="{{isLoading}}">
			<br-icons icon="br-icons:loading" class="icon icon__spin"></br-icons>
		</template>
		<template is="dom-if" if="{{label}}">{{label}}</template>
	</button>

</template>

<script>
	Polymer({
		is: 'br-button',

		properties: {
			label: String,
			icon: String,
			type: {
				type: String,
				value: 'button'
			},
			isLoading: {
				type: String,
				observer: '_toggleDisable'
			},
			isDisabled:{
				type: String,
				observer: '_toggleDisable'
			}
		},

		ready: function(){
			
			if(this.isLoading === 'false')
				this.removeAttribute('is-loading');
			else if(this.isLoading === 'true')
				this.setAttribute('is-loading', true);

		},

		_toggleDisable: function(condition){
			if(condition)
				this.setAttribute('disabled', true);
			else
				this.removeAttribute('disabled');
		}

	});
</script>
</dom-module>