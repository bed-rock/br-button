<link rel="import" type="html" href="../../br-icons/src/br-icons.html">

<dom-module id="br-button">

<link rel="import" type="css" href="../dist/css/br-button.min.css">

<template>

	<button id$="{{id}}" type$="{{type}}" class="btn" disabled$="{{isDisabled}}">
		<template is="dom-if" if="{{icon}}">
			<br-icons icon$="{{icon}}" class="icon" hidden$="{{isLoading}}"></br-icons>
		</template>
		<template is="dom-if" if="{{isLoading}}">
			<br-icons icon="br-icons:loading" class="icon icon__spin"></br-icons>
		</template>
		<template is="dom-if" if="{{label}}">{{label}}</template>
	</button>

</template>

<script>
	Polymer({
		is: 'br-button',

		properties: {
			id: String,
			label: String,
			icon: String,
			type: {
				type: String,
				value: 'button'
			},
			color: String,
			size: String,
			block: Boolean,
			isDisabled: Boolean,
			isLoading:{
				type: Boolean,
				observer: '_checkVisibility'
			}

		},

		ready: function() {
			this._setupClass();
		},

		_setupClass: function() {
			if (this.color)
				this.$$('button').classList.add('btn-' + this.color);
			if (this.size)
				this.$$('button').classList.add('btn-' + this.size);
			if (this.block)
				this.$$('button').classList.add('btn-' + this.block);
		},

		toggleDisable: function() {
			this.toggleAttribute('is-disabled');
		},

		_checkVisibility: function() {
			this.toggleDisable();
		}

	});
</script>
</dom-module>